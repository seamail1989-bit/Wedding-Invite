<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∞–¥—å–±—É</title>
  <style>
    :root{
      --bg:#0b0b0f;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.06);
      --text:#f4f4f7;
      --muted: rgba(244,244,247,.72);
      --stroke: rgba(255,255,255,.14);
      --accent:#ffd7a8;
      --accent2:#b9a7ff;
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(255,215,168,.16), transparent 60%),
        radial-gradient(800px 540px at 85% 20%, rgba(185,167,255,.14), transparent 55%),
        linear-gradient(180deg, #08080c, #0b0b0f 30%, #07070b);
      min-height:100vh;
    }
    .wrap{max-width:980px; margin:0 auto; padding:28px 18px 70px;}
    .hero{
      padding:26px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, var(--card), var(--card2));
      border-radius:var(--radius);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      overflow:hidden;
      position:relative;
    }
    .badge{
      display:inline-flex; gap:10px; align-items:center;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      color:var(--muted);
      font-size:14px;
    }
	.grid{
	margin-top:18px;
	display:grid;
	grid-template-columns: 1fr;
	gap:18px;
	}
	
    h1{margin:14px 0 8px; font-size:44px; letter-spacing:-.02em}
    .sub{margin:0; color:var(--muted); font-size:16px; line-height:1.55}
    .cards{
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }
    .card{
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      border-radius:var(--radius);
      padding:18px;
    }
    .card h3{margin:0 0 8px; font-size:16px}
    .card p{margin:0; color:var(--muted); line-height:1.5}
    .swatches{display:flex; gap:10px; margin-top:10px; flex-wrap:wrap}
    .swatch{
      width:44px; height:44px; border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.25);
    }

    form{
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.14));
      border-radius:var(--radius);
      padding:18px;
    }
    .sectionTitle{
      display:flex; align-items:baseline; justify-content:space-between; gap:10px;
      margin:0 0 14px;
    }
    .sectionTitle h2{margin:0; font-size:18px}
    .sectionTitle span{color:var(--muted); font-size:13px}

	.row{
	display:grid;
	grid-template-columns:1fr;
	gap:12px;
	}

    label{display:block; font-size:13px; color:var(--muted); margin:0 0 6px}
    input[type="text"], input[type="number"], textarea, select{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color:var(--text);
      outline:none;
    }
    textarea{min-height:92px; resize:vertical}
    .hint{font-size:12px; color:var(--muted); margin-top:6px}

    .checks{display:flex; gap:12px; flex-wrap:wrap}
    .check{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      user-select:none;
    }
    .check input{transform:scale(1.1)}
    .divider{height:1px; background:rgba(255,255,255,.10); margin:14px 0}

    .btns{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
    button{
      border:0;
      padding:12px 16px;
      border-radius:16px;
      cursor:pointer;
      font-weight:600;
      background: linear-gradient(135deg, rgba(255,215,168,.95), rgba(185,167,255,.95));
      color:#111;
    }
    .ghost{
      background:transparent;
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
      font-weight:600;
    }

    .note{
      margin-top:16px;
      border:1px dashed rgba(255,255,255,.22);
      background: rgba(0,0,0,.16);
      border-radius: var(--radius);
      padding:16px;
      color: var(--muted);
      line-height:1.6;
      white-space:pre-line;
    }
	
   /* --- –ö–æ–Ω–≤–µ—Ä—Ç –Ω–∞ –ø–µ—Ä–≤–æ–º —ç–∫—Ä–∞–Ω–µ (—Ñ–æ–Ω-—Ñ–æ—Ç–æ) --- */
	.envelope-screen{
      width:100%;
      max-width:1200px;
      aspect-ratio: 3 / 4;
      border-radius: var(--radius);
      overflow:hidden;
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 18px 45px rgba(0,0,0,.45);
      margin:0 auto 26px;
	}

	.envelope-screen::before{
      content:"";
      position:absolute;
      inset:0;
      background: url("envelope.jpg") center/cover no-repeat;
      filter: saturate(1.05);
      transform: scale(1.02);
    }

    .envelope{
      position:relative;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.6);
      background: radial-gradient(circle at 0 0, rgba(255,255,255,.35), transparent 60%),
                  rgba(0,0,0,.55);
      padding:14px 26px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:10px;
      color:#fff;
      backdrop-filter: blur(10px);
      text-align:left;
      transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
    }

    .envelope:hover{
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(0,0,0,.6);
      background: radial-gradient(circle at 0 0, rgba(255,255,255,.45), transparent 60%),
                  rgba(0,0,0,.7);
    }

    .envelope-top{ display:none; }

    .envelope-body{
      position:relative;
      padding:0;
      background:transparent;
      color:inherit;
    }

    .envelope-text{ position:relative; z-index:1; }

    .envelope-tag{
      display:inline-flex;
      padding:4px 10px;
      border-radius:999px;
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.14em;
      border:1px solid rgba(255,255,255,.6);
      background:rgba(0,0,0,.4);
      margin-bottom:4px;
      color:#f5f5f5;
    }

    .envelope-title{
      font-size:18px;
      font-weight:600;
      margin-bottom:2px;
    }

    .envelope-sub{
      font-size:13px;
      line-height:1.4;
      color:rgba(245,245,245,.86);
    }

    .invite-main{
      margin-top:26px;
    }

    .envelope-screen--hidden{
      opacity:0;
      pointer-events:none;
      transform: translateY(-12px);
      transition: opacity .3s ease, transform .3s ease;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- –≠–∫—Ä–∞–Ω —Å –∫–æ–Ω–≤–µ—Ä—Ç–æ–º -->
    <div id="envelopeScreen" class="envelope-screen">
      <button id="openEnvelope" class="envelope">
        <div class="envelope-top"></div>
        <div class="envelope-body">
          <div class="envelope-text">
            <div class="envelope-tag">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</div>
            <div class="envelope-sub">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∞–¥—å–±—É</div>
          </div>
        </div>
      </button>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ), –Ω–æ –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ invite-main -->
    <div id="inviteMain" class="invite-main" style="display:none;">
      <div class="hero">
        <!-- —Ç—É—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–≤–æ–π —Å—Ç–∞—Ä—ã–π .hero-–∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="badge">üíå –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ ‚Ä¢ 03/07/2026</div>
        <h1>–ú—ã –∂–µ–Ω–∏–º—Å—è!</h1>
        <p class="sub">
          03/07/2026, –ó–∞–º–æ–∫ –†–æ–º–∞–Ω–æ–≤—Å–∫–∏ (Langendorf) ‚Äî –ü–∞—Ä–∫–æ–≤–∞—è —É–ª–∏—Ü–∞, 5, –ø–æ—Å. –°–æ–∫–æ–ª—å–Ω–∏–∫–∏,
          –ì–≤–∞—Ä–¥–µ–π—Å–∫–∏–π –º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥, –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
        </p>

        <div class="grid">
          <div class="cards">
            <div class="card">
              <h3>‚è∞ –í—Ä–µ–º—è</h3>
              <p>14:00 ‚Äî —Å–±–æ—Ä –≥–æ—Å—Ç–µ–π (–ª—É—á—à–µ –Ω–µ –æ–ø–∞–∑–¥—ã–≤–∞—Ç—å, —à–∞–º–ø–∞–Ω—Å–∫–æ–µ —É–∂–µ –±—É–¥–µ—Ç!)<br/>15:00 ‚Äî –Ω–∞—á–∞–ª–æ —Ü–µ—Ä–µ–º–æ–Ω–∏–∏</p>
            </div>
            <div class="card">
              <h3>üé® –î—Ä–µ—Å—Å-–∫–æ–¥</h3>
              <p>–ë—É–¥–µ–º —Ä–∞–¥—ã, –µ—Å–ª–∏ –≤—ã –ø–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –ø–∞–ª–∏—Ç—Ä—É —Ç–æ—Ä–∂–µ—Å—Ç–≤–∞.</p>
              <div class="swatches" aria-label="–î—Ä–µ—Å—Å-–∫–æ–¥">
                <div class="swatch" style="background:#d9c3a5"></div>
                <div class="swatch" style="background:#5b4b3b"></div>
              </div>
            </div>
            <div class="card">
              <h3>üìù –û—Ç–≤–µ—Ç—å—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞</h3>
              <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ ‚Äî —Ç–∞–∫ –º—ã –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–ø–ª–∞–Ω–∏—Ä—É–µ–º.</p>
            </div>
          </div>

        <!-- –í–ê–ñ–ù–û: action = —Ç–≤–æ–π Apps Script URL -->
        <form method="POST" action="https://script.google.com/macros/s/AKfycbxZVP4LAC2XiACfTVvhtwIciuyEL0qGcQvun0VC1E35VAmcr3IiqloGwztDuwLk-SbM6Q/exec">
          <div class="sectionTitle">
            <h2>–§–æ—Ä–º–∞ –≥–æ—Å—Ç—è</h2>
            <span>* ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ</span>
          </div>

          <div class="row">
            <div>
              <label for="fio_main">–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ *</label>
              <input id="fio_main" name="fio_main" type="text" required placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" />
            </div>

            <div>
              <label>–ü—Ä–∏–¥—ë—Ç–µ –ª–∏ –Ω–∞ —Å–≤–∞–¥—å–±—É? *</label>
              <div class="checks">
                <label class="check"><input type="radio" name="attendance_day1" value="–î–∞" required> –î–∞</label>
                <label class="check"><input type="radio" name="attendance_day1" value="–ù–µ—Ç" required> –ù–µ—Ç</label>
              </div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
			<div>
			<label>–ì–æ—Å—Ç–∏ (–¥–æ–±–∞–≤—å—Ç–µ, –µ—Å–ª–∏ –ø—Ä–∏–¥—ë—Ç–µ –Ω–µ –æ–¥–Ω–∏)</label>
			
			<div id="plusOnes">
				<input name="fio_plus1" type="text" placeholder="–ì–æ—Å—Ç—å 2 ‚Äî –§–ò–û" />
			</div>
			
			<div class="btns" style="margin-top:10px;">
				<button type="button" class="ghost" id="addGuestBtn">+ –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è</button>
				<button type="button" class="ghost" id="removeGuestBtn">‚Äî –£–±—Ä–∞—Ç—å</button>
			</div>
			
			<div class="hint">–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Å—Ç–µ–π ‚Äî –≤—Å–µ –ø–æ–ø–∞–¥—É—Ç –≤ —Ç–∞–±–ª–∏—Ü—É.</div>
			</div>


            <div>
              <label>–ß—Ç–æ –ø—å—ë—Ç–µ?</label>
              <div class="checks">
                <label class="check"><input type="checkbox" name="drink_vodka" value="on"> –í–æ–¥–∫–∞</label>
                <label class="check"><input type="checkbox" name="drink_rum" value="on"> –†–æ–º</label>
                <label class="check"><input type="checkbox" name="drink_wine" value="on"> –í–∏–Ω–æ</label>
              </div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div>
              <label>–ù—É–∂–µ–Ω –ª–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä —Ç—É–¥–∞?</label>
              <div class="checks">
                <label class="check"><input type="radio" name="transfer_to" value="–î–∞"> –î–∞</label>
                <label class="check"><input type="radio" name="transfer_to" value="–ù–µ—Ç"> –ù–µ—Ç</label>
              </div>
            </div>

            <div>
              <label>–ù—É–∂–µ–Ω –ª–∏ –æ–±—Ä–∞—Ç–Ω—ã–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä?</label>
              <div class="checks">
                <label class="check"><input type="radio" name="transfer_back" value="–î–∞"> –î–∞</label>
                <label class="check"><input type="radio" name="transfer_back" value="–ù–µ—Ç"> –ù–µ—Ç</label>
              </div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div>
              <label>–ü—Ä–∏–¥—ë—Ç–µ –ª–∏ –Ω–∞ –≤—Ç–æ—Ä–æ–π –¥–µ–Ω—å?</label>
              <div class="checks">
                <label class="check"><input type="radio" name="attendance_day2" value="–î–∞"> –î–∞</label>
                <label class="check"><input type="radio" name="attendance_day2" value="–ù–µ—Ç"> –ù–µ—Ç</label>
              </div>
            </div>

            <div>
              <label>–ë—É–¥—É—Ç –ª–∏ –¥–µ—Ç–∏?</label>
              <div class="checks">
                <label class="check"><input type="radio" name="kids" value="–î–∞" id="kidsYes"> –î–∞</label>
                <label class="check"><input type="radio" name="kids" value="–ù–µ—Ç" id="kidsNo"> –ù–µ—Ç</label>
              </div>
            </div>
          </div>

			<div id="kidsBlock" style="display:none; margin-top:12px;">
			<div class="row">
				<div>
				<label for="kids_count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–π</label>
				<input id="kids_count" name="kids_count" type="number" min="1" step="1" placeholder="1" />
				<div class="hint">–ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—è–≤—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞.</div>
				</div>
			</div>
			
			<!-- —Å—é–¥–∞ –±—É–¥–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª—è –¥–ª—è –¥–µ—Ç–µ–π -->
			<div id="kidsList" style="margin-top:12px;"></div>
			
			<!-- —Å—é–¥–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Ñ–æ—Ä–º—ã —Å–æ–±–µ—Ä—ë–º –≤—Å–µ—Ö –¥–µ—Ç–µ–π —Å—Ç—Ä–æ–∫–æ–π, —á—Ç–æ–±—ã –≤ —Ç–∞–±–ª–∏—Ü—É –ª–µ—Ç–µ–ª–æ –∫–∞–∫ —Ä–∞–Ω—å—à–µ -->
			<input id="kids_details" name="kids_details" type="hidden" value="" />
			</div>

          <div class="divider"></div>

          <div class="row">
            <div>
              <label for="allergy">–ê–ª–ª–µ—Ä–≥–∏—è –Ω–∞ —á—Ç–æ-–ª–∏–±–æ</label>
              <input id="allergy" name="allergy" type="text" placeholder="–ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ" />
            </div>
		  <input id="guest_code" name="guest_code" type="hidden" value="" />
          </div>

          <div style="margin-top:12px;">
            <label for="comments">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</label>
            <textarea id="comments" name="comments" placeholder="–õ—é–±—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è"></textarea>
          </div>

          <div class="btns">
            <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
            <button class="ghost" type="reset">–û—á–∏—Å—Ç–∏—Ç—å</button>
          </div>

          <div class="note">
–î–æ—Ä–æ–≥–∏–µ –Ω–∞—à–∏,
–ú—ã –æ—á–µ–Ω—å —Ü–µ–Ω–∏–º –≤–∞—à–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∏ –∑–∞–±–æ—Ç—É.
–ò —Ö–æ—Ç–µ–ª–∏ –±—ã –ø–æ–ø—Ä–æ—Å–∏—Ç—å, –Ω–µ –¥–∞—Ä–∏—Ç—å –Ω–∞–º —Ü–≤–µ—Ç—ã ‚Äî –æ–Ω–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã, –≤–æ–∑–º–æ–∂–Ω–æ –æ—á–µ–Ω—å —É–∫—Ä–∞—Å—è—Ç —Ç–æ—Ä–∂–µ—Å—Ç–≤–æ, –Ω–æ –æ–Ω–∏ —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ —É–≤—è–¥–∞—é—Ç.
–ù–∞–º –±—ã —Ö–æ—Ç–µ–ª–æ—Å—å, —á—Ç–æ–±—ã –ø–∞–º—è—Ç—å –æ –≤–∞—à–µ–º —É—á–∞—Å—Ç–∏–∏ –≤ –Ω–∞—à–µ–º –ø—Ä–∞–∑–¥–Ω–∏–∫–µ –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å —Å –Ω–∞–º–∏ –¥–æ–ª—å—à–µ.
–ü–æ—ç—Ç–æ–º—É —É –Ω–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –∏–¥–µ—è - –µ—Å–ª–∏ –≤—ã –∑–∞–º–µ–Ω–∏—Ç–µ –±—É–∫–µ—Ç, –Ω–∞ –±—É—Ç—ã–ª–æ—á–∫—É —Å–≤–æ–µ–≥–æ –ª—é–±–∏–º–æ–≥–æ –∞–ª–∫–æ–≥–æ–ª—å–Ω–æ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞ –∏ –ø–æ–¥–∞—Ä–∏—Ç–µ –Ω–∞–º. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—à–∏—Ç–µ –µ–µ!
–ò –∫–æ–≥–¥–∞ –≤ –±—É–¥—É—â–µ–º, –≤–æ—Å–∫—Ä–µ—Å–Ω—ã–º –≤–µ—á–µ—Ä–æ–º, –º—ã –±—É–¥–µ–º –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –µ–µ, –º—ã —Å —Ç–µ–ø–ª–æ–º –≤—Å–ø–æ–º–Ω–∏–º —ç—Ç–æ—Ç –¥–µ–Ω—å –∏ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –≤–∞—Å.
          </div>
        </form>
      </div>
    </div>
  </div>
  </div>

<script>
  // --- –î–ï–¢–ò: –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –±–ª–æ–∫ –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—è ---

  const kidsYes = document.getElementById('kidsYes');
  const kidsNo = document.getElementById('kidsNo');
  const kidsBlock = document.getElementById('kidsBlock');
  const kidsCountInput = document.getElementById('kids_count');
  const kidsList = document.getElementById('kidsList');
  const kidsDetailsHidden = document.getElementById('kids_details');

  function clearKids() {
    if (kidsList) kidsList.innerHTML = "";
    if (kidsDetailsHidden) kidsDetailsHidden.value = "";
    if (kidsCountInput) kidsCountInput.value = "";
  }

  function syncKidsVisibility() {
    const show = kidsYes && kidsYes.checked;
    if (kidsBlock) kidsBlock.style.display = show ? 'block' : 'none';
    if (!show) clearKids();
  }

  kidsYes?.addEventListener('change', syncKidsVisibility);
  kidsNo?.addEventListener('change', syncKidsVisibility);

  function rebuildKidsInputs() {
    if (!kidsList) return;
    kidsList.innerHTML = "";

    const n = parseInt(kidsCountInput.value, 10);
    if (!n || n <= 0) return;

    for (let i = 1; i <= n; i++) {
      const wrapper = document.createElement('div');
      wrapper.className = 'row';
      wrapper.style.marginTop = i === 1 ? '0' : '10px';

      const col1 = document.createElement('div');
      const col2 = document.createElement('div');

      const labelName = document.createElement('label');
      labelName.textContent = `–†–µ–±—ë–Ω–æ–∫ ${i} ‚Äî –§–ò–û`;
      const inputName = document.createElement('input');
      inputName.type = 'text';
      inputName.name = `kid_name_${i}`;
      inputName.placeholder = '–§–∞–º–∏–ª–∏—è –ò–º—è';

      const labelAge = document.createElement('label');
      labelAge.textContent = `–†–µ–±—ë–Ω–æ–∫ ${i} ‚Äî –≤–æ–∑—Ä–∞—Å—Ç`;
      const inputAge = document.createElement('input');
      inputAge.type = 'text';
      inputAge.name = `kid_age_${i}`;
      inputAge.placeholder = '–í–æ–∑—Ä–∞—Å—Ç';

      col1.appendChild(labelName);
      col1.appendChild(inputName);

      col2.appendChild(labelAge);
      col2.appendChild(inputAge);

      wrapper.appendChild(col1);
      wrapper.appendChild(col2);

      kidsList.appendChild(wrapper);
    }
  }

  kidsCountInput?.addEventListener('input', rebuildKidsInputs);
  kidsCountInput?.addEventListener('change', rebuildKidsInputs);

  // --- –ü–õ–Æ–°-–ì–û–°–¢–ò ---

  const plusOnes = document.getElementById('plusOnes');
  const addGuestBtn = document.getElementById('addGuestBtn');
  const removeGuestBtn = document.getElementById('removeGuestBtn');

  function countGuestInputs() {
    return plusOnes ? plusOnes.querySelectorAll('input[name^="fio_plus"]').length : 0;
  }

  addGuestBtn?.addEventListener('click', () => {
    const n = countGuestInputs() + 1;
    const input = document.createElement('input');
    input.name = `fio_plus${n}`;
    input.type = 'text';
    input.placeholder = `–ì–æ—Å—Ç—å ${n + 1} ‚Äî –§–ò–û`;
    input.style.marginTop = '10px';
    plusOnes.appendChild(input);
  });

  removeGuestBtn?.addEventListener('click', () => {
    const inputs = plusOnes?.querySelectorAll('input[name^="fio_plus"]');
    if (!inputs || inputs.length <= 1) return;
    inputs[inputs.length - 1].remove();
  });

  // --- –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Ñ–æ—Ä–º—ã —Å–æ–±–∏—Ä–∞–µ–º –¥–µ—Ç–µ–π –≤ hidden kids_details ---

  const form = document.querySelector('form');

  form?.addEventListener('submit', () => {
    if (!kidsDetailsHidden || !kidsList) return;
    const rows = kidsList.querySelectorAll('.row');
    const parts = [];

    rows.forEach((row, index) => {
      const nameInput = row.querySelector(`input[name="kid_name_${index + 1}"]`);
      const ageInput = row.querySelector(`input[name="kid_age_${index + 1}"]`);
      const name = nameInput?.value.trim();
      const age = ageInput?.value.trim();
      if (name) {
        parts.push(age ? `${name}, ${age}` : name);
      }
    });

    kidsDetailsHidden.value = parts.join('; ');
  });

  // --- guest_code –∏–∑ ?code=... ---

  const params = new URLSearchParams(window.location.search);
  const code = params.get('code');
  const guestCodeInput = document.getElementById('guest_code');
  if (guestCodeInput && code) guestCodeInput.value = code;

	  // --- –û–¢–ö–†–´–¢–ò–ï –ö–û–ù–í–ï–†–¢–ê ---

  const envelopeScreen = document.getElementById('envelopeScreen');
  const inviteMain = document.getElementById('inviteMain');
  const openEnvelopeBtn = document.getElementById('openEnvelope');

  function openEnvelope() {
    if (!envelopeScreen || !inviteMain) return;
    // –∞–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
    envelopeScreen.classList.add('envelope-screen--hidden');
    // –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä—è—á–µ–º –±–ª–æ–∫ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
    setTimeout(() => {
      envelopeScreen.style.display = 'none';
      inviteMain.style.display = 'block';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }, 300);
  }

  openEnvelopeBtn?.addEventListener('click', (e) => {
    e.preventDefault();
    openEnvelope();
  });

  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –±–ª–æ–∫–∞ –¥–µ—Ç–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (–µ—Å–ª–∏ —É–∂–µ –≤—ã–±—Ä–∞–Ω–æ "–î–∞")
  syncKidsVisibility();
</script>
</body>
</html>
